<HTML>
<HEAD>
<TITLE>SIZED_DIALOG</TITLE>
<LINK REL="STYLESHEET" TYPE="TEXT/CSS" HREF="style.css">
</HEAD>
<BODY BGCOLOR="#FFFFF8">
<TABLE CLASS="INVTABLE" WIDTH="100%">
<TR>
<TD CLASS="TITLE">SIZED_DIALOG</TD>
<TD CLASS="DESCRIPTION">Macro</TD>
</TR>
</TABLE>
<HR>
<TABLE CLASS="NOBORDER" WIDTH="100%"><TR>
<TD CLASS="HEADER" ALIGN="RIGHT"><A HREF="dialogs.html">dialogs.h</A>
</TD>
</TR></TABLE>
<P><TABLE CLASS="DEFTABLE"><TR><TD CLASS="DEFBG">
<TABLE CLASS="DEFSUBTABLE"><TR><TD CLASS="DEFINITION"><B><A HREF="cpp_SEC10.html">#define</A></B> SIZED_DIALOG(NumbItems,StrLen) <B><A HREF="keywords_struct.html">struct</A></B> {</TD></TR></TABLE>
<TABLE CLASS="DEFSUBTABLE"><TR><TD CLASS="DEFBG" WIDTH="16"></TD><TD CLASS="DEFINITION"><B><A HREF="keywords_short.html">unsigned</A></B> <B><A HREF="keywords_short.html">short</A></B> TextOffset;</TD></TR></TABLE>
<TABLE CLASS="DEFSUBTABLE"><TR><TD CLASS="DEFBG" WIDTH="16"></TD><TD CLASS="DEFINITION"><B><A HREF="keywords_short.html">unsigned</A></B> <B><A HREF="keywords_short.html">short</A></B> NumItems;</TD></TR></TABLE>
<TABLE CLASS="DEFSUBTABLE"><TR><TD CLASS="DEFBG" WIDTH="16"></TD><TD CLASS="DEFINITION"><B><A HREF="keywords_short.html">unsigned</A></B> <B><A HREF="keywords_int.html">char</A></B> Width, Height;</TD></TR></TABLE>
<TABLE CLASS="DEFSUBTABLE"><TR><TD CLASS="DEFBG" WIDTH="16"></TD><TD CLASS="DEFINITION"><A HREF="dialogs_Dialog_Callback_t.html">Dialog_Callback_t</A> Callback;</TD></TR></TABLE>
<TABLE CLASS="DEFSUBTABLE"><TR><TD CLASS="DEFBG" WIDTH="16"></TD><TD CLASS="DEFINITION"><A HREF="dialogs_DIALOG_ITEM.html">DIALOG_ITEM</A> Fields[(NumbItems)+1];</TD></TR></TABLE>
<TABLE CLASS="DEFSUBTABLE"><TR><TD CLASS="DEFBG" WIDTH="16"></TD><TD CLASS="DEFINITION"><B><A HREF="keywords_int.html">char</A></B> String[StrLen];</TD></TR></TABLE>
<TABLE CLASS="DEFSUBTABLE"><TR><TD CLASS="DEFINITION">}</TD></TR></TABLE>
</TD></TR></TABLE>
<P CLASS="ITEMDESC"><B>A macro to help defining dialogs, it is nearly the same as DIALOG.</B>
<P>There are two main dificulties one encouters using the <A HREF="dialogs_DIALOG_STRUCT.html">DIALOG structure</A>:<BR>First there is a variable size array, and variable size arrays can't be initialized with non constant value.
<BR>Secondly it doesn't include strings, which should better be placed just after the DIALOG in memory.
<BR>SIZED_DIALOG avoids both of these problems: It needs two argument : the number of Items <I>NumbItems</I> and the size of the all the strings together <I>StrLen</I>, and defines a struct from this, wich is the same as <A HREF="dialogs_DIALOG_STRUCT.html">DIALOG</A> but with some place for the strings: you can define a dilalog using <I>SIZED_DIALOG(NumbItems,StrLen)={/*Dialog definition*/}</I>. It is done in the given examples. If you use that macro, it will fill to the right number of Item, and If you forget to add an item with type D_END after the last used Item, it is automatically done.<BR><BR>Using SIZED_DIALOG also helps to get the offset of the strings. You can initialize it with <I><A HREF="stddef_offsetof.html">offsetof</A>(SIZED_DIALOG(ItemsNum,0),String)</I>
</BODY>
</HTML>
