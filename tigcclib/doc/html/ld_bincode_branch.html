<HTML>
<HEAD>
<TITLE>Branch Fixup and Optimization</TITLE>
<LINK REL="STYLESHEET" TYPE="TEXT/CSS" HREF="style.css">
</HEAD>
<BODY BGCOLOR="#FFFFF8">
<TABLE CLASS="INVTABLE" WIDTH="100%">
<TR>
<TD CLASS="NOBORDER" WIDTH="40"><IMG SRC="info.gif" WIDTH="32" HEIGHT="32" BORDER="0"></TD>
<TD CLASS="TITLE">Branch Fixup and Optimization</TD>
</TR>
</TABLE>
<HR>
<TABLE CLASS="NOBORDER" WIDTH="100%"><TR>
<TD CLASS="HEADER" ALIGN="LEFT" WIDTH="60"><A HREF="ld_bincode_return.html">Previous</A></TD>
<TD CLASS="HEADER" ALIGN="CENTER"><A HREF="ld_bincode.html">TIGCC Linker Binary Code Fixup</A></TD>
<TD CLASS="HEADER" ALIGN="RIGHT" WIDTH="60"><A HREF="ld_bincode_move.html">Next</A></TD>
</TR></TABLE>
<P>On some architectures, certain branches are not permitted. For example, on
the MC68000 processor, it is not possible to branch to the next instruction
using a short branch. While the assembler usually detects such invalid
situations, they may still occur if the branch target is in a different
section or file. The TIGCC linker detects such invalid situations and tries
to resolve them as well as possible: If it is invalid for a branch at the end
of a section to point to the beginning of the next section, it is removed
unless it is a subroutine branch. For subroutine branches, a NOP instruction
is inserted instead.
<BR><BR>
In addition to fixing invalid branches, the TIGCC linker can optimize branch
instructions to reduce the number of absolute relocations needed. If an
absolute branch (jump or subroutine branch) can be converted to a relative
branch, the operating system does not need to insert the destination address
at run time; therefore this will save space. Moreover, if range-cutting is
enabled, optimizing branches can reduce the size of the code.
<UL>
<LI><B><A HREF="ld_bincode_branch_fline.html">F-Line Branch Optimization</A></B>
</UL>
</BODY>
</HTML>
